import{r as t,h as s}from"./p-da09bae5.js";import{E as o,d as i,M as r}from"./p-ce686700.js";import{u as e}from"./p-e4433586.js";const a=class{constructor(s){t(this,s),this.onInput=this.onInput.bind(this),this.onChange=this.onChange.bind(this)}componentDidLoad(){this.setUpInputs(),this.onValueChanged(o.USER_SETVALUE)}setUpInputs(){this.parameter.valueChanged.connect(t=>{this.onValueChanged(t)})}onValueChanged(t){this.change||(this.txtField.value=this.parameter.getValue(),t==o.REMOTEUSER_SETVALUE&&(this.widgetContainer.classList.add("user-edited"),this.remoteUserEditedHighlightId&&clearTimeout(this.remoteUserEditedHighlightId),this.remoteUserEditedHighlightId=setTimeout(()=>{this.widgetContainer.classList.remove("user-edited"),this.remoteUserEditedHighlightId=null},1500)))}onInput(){const t=this.txtField.value;this.change?this.change.update({value:t}):(this.change=new i(this.parameter,t),this.appData.undoRedoManager.addChange(this.change))}onChange(){this.onInput(),this.change=void 0}render(){return s("div",{class:"zea-param-widget-string",ref:t=>this.widgetContainer=t},s("input",{onInput:this.onInput,onChange:this.onChange,ref:t=>this.txtField=t,id:this.parameter.getName(),type:"text",tabindex:"0"}))}};e.registerWidget("zea-param-widget-string",t=>t.constructor.name==r.name),a.style=":host,input,button,select,textarea{font-family:'Roboto', sans-serif}.zea-param-widget-string{color:var(--color-foreground-1);background-color:var(--color-background-2)}input{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0.3em;font-size:0.9em;border:1px solid var(--color-grey-3);color:var(--color-foreground-1);background-color:var(--color-background-3)}.user-edited{-webkit-box-shadow:0 0 8px var(--color-success-1);box-shadow:0 0 8px var(--color-success-1);margin:0px}";export{a as Z}