function t(){}function e(){e.init.call(this)}function r(t){return void 0===t._maxListeners?e.defaultMaxListeners:t._maxListeners}function n(t,e,r){if(e)t.call(r);else for(var n=t.length,i=a(t,n),o=0;o<n;++o)i[o].call(r)}function i(t,e,r,n){if(e)t.call(r,n);else for(var i=t.length,o=a(t,i),s=0;s<i;++s)o[s].call(r,n)}function o(t,e,r,n,i){if(e)t.call(r,n,i);else for(var o=t.length,s=a(t,o),f=0;f<o;++f)s[f].call(r,n,i)}function s(t,e,r,n,i,o){if(e)t.call(r,n,i,o);else for(var s=t.length,f=a(t,s),u=0;u<s;++u)f[u].call(r,n,i,o)}function f(t,e,r,n){if(e)t.apply(r,n);else for(var i=t.length,o=a(t,i),s=0;s<i;++s)o[s].apply(r,n)}function u(e,n,i,o){var s,f,u,h;if("function"!=typeof i)throw new TypeError('"listener" argument must be a function');if((f=e._events)?(f.newListener&&(e.emit("newListener",n,i.listener?i.listener:i),f=e._events),u=f[n]):(f=e._events=new t,e._eventsCount=0),u){if("function"==typeof u?u=f[n]=o?[i,u]:[u,i]:o?u.unshift(i):u.push(i),!u.warned&&(s=r(e))&&s>0&&u.length>s){u.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+n+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=n,c.count=u.length,h=c,"function"==typeof console.warn?console.warn(h):console.log(h)}}else u=f[n]=i,++e._eventsCount;return e}function h(t,e,r){var n=!1;function i(){t.removeListener(e,i),n||(n=!0,r.apply(t,arguments))}return i.listener=r,i}function c(t){var e=this._events;if(e){var r=e[t];if("function"==typeof r)return 1;if(r)return r.length}return 0}function a(t,e){for(var r=new Array(e);e--;)r[e]=t[e];return r}t.prototype=Object.create(null),e.EventEmitter=e,e.usingDomains=!1,e.prototype.domain=void 0,e.prototype._events=void 0,e.prototype._maxListeners=void 0,e.defaultMaxListeners=10,e.init=function(){this.domain=null,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new t,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},e.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},e.prototype.getMaxListeners=function(){return r(this)},e.prototype.emit=function(t){var e,r,u,h,c,a,v,l="error"===t;if(a=this._events)l=l&&null==a.error;else if(!l)return!1;if(v=this.domain,l){if(e=arguments[1],!v){if(e instanceof Error)throw e;var w=new Error('Uncaught, unspecified "error" event. ('+e+")");throw w.context=e,w}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=v,e.domainThrown=!1,v.emit("error",e),!1}if(!(r=a[t]))return!1;var p="function"==typeof r;switch(u=arguments.length){case 1:n(r,p,this);break;case 2:i(r,p,this,arguments[1]);break;case 3:o(r,p,this,arguments[1],arguments[2]);break;case 4:s(r,p,this,arguments[1],arguments[2],arguments[3]);break;default:for(h=new Array(u-1),c=1;c<u;c++)h[c-1]=arguments[c];f(r,p,this,h)}return!0},e.prototype.on=e.prototype.addListener=function(t,e){return u(this,t,e,!1)},e.prototype.prependListener=function(t,e){return u(this,t,e,!0)},e.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,h(this,t,e)),this},e.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,h(this,t,e)),this},e.prototype.removeListener=function(e,r){var n,i,o,s,f;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(n=i[e]))return this;if(n===r||n.listener&&n.listener===r)0==--this._eventsCount?this._events=new t:(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if("function"!=typeof n){for(o=-1,s=n.length;s-- >0;)if(n[s]===r||n[s].listener&&n[s].listener===r){f=n[s].listener,o=s;break}if(o<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new t,this;delete i[e]}else!function(t,e){for(var r=e,n=r+1,i=t.length;n<i;r+=1,n+=1)t[r]=t[n];t.pop()}(n,o);i.removeListener&&this.emit("removeListener",e,f||r)}return this},e.prototype.removeAllListeners=function(e){var r,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new t,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new t:delete n[e]),this;if(0===arguments.length){for(var i,o=Object.keys(n),s=0;s<o.length;++s)"removeListener"!==(i=o[s])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=new t,this._eventsCount=0,this}if("function"==typeof(r=n[e]))this.removeListener(e,r);else if(r)do{this.removeListener(e,r[r.length-1])}while(r[0]);return this},e.prototype.listeners=function(t){var e,r=this._events;return r&&(e=r[t])?"function"==typeof e?[e.listener||e]:function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(e):[]},e.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):c.call(t,e)},e.prototype.listenerCount=c,e.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};export{e as E,e as r}