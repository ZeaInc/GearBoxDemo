import{r as t,h as i}from"./p-da09bae5.js";import{E as e,v as s,N as n}from"./p-58c3b402.js";import{u as o}from"./p-f9acc9cd.js";const r=class{constructor(i){t(this,i),this.onInput=this.onInput.bind(this),this.onChange=this.onChange.bind(this)}componentDidLoad(){this.parameter&&(this.setUpInputs(),this.onValueChanged(0))}setUpInputs(){this.parameter.on("valueChanged",t=>{this.onValueChanged(t.mode)})}onValueChanged(t){if(!this.change){const i=this.parameter.getValue();i.isValid()&&(this.minxField.value=i.p0.x,this.minyField.value=i.p0.y,this.minzField.value=i.p0.z,this.maxxField.value=i.p1.x,this.maxyField.value=i.p1.y,this.maxzField.value=i.p1.z),t==e.REMOTEUSER_SETVALUE&&(this.container.classList.add("user-edited"),this.remoteUserEditedHighlightId&&clearTimeout(this.remoteUserEditedHighlightId),this.remoteUserEditedHighlightId=setTimeout(()=>{this.container.classList.remove("user-edited"),this.remoteUserEditedHighlightId=null},1500))}}onInput(){const t=new s;t.p0.set(this.minxField.valueAsNumber,this.minyField.valueAsNumber,this.minzField.valueAsNumber),t.p1.set(this.maxxField.valueAsNumber,this.maxyField.valueAsNumber,this.maxzField.valueAsNumber),this.change?this.change.update({value:t}):(this.change=new n(this.parameter,t),this.appData.undoRedoManager.addChange(this.change))}onChange(){this.onInput(),this.change=void 0}render(){return i("div",{class:"zea-param-widget-bbox",ref:t=>this.container=t},i("fieldset",null,i("legend",null,"Min"),i("div",{class:"input-wrap"},i("label",null,"X"),i("input",{onInput:this.onInput,onChange:this.onChange,ref:t=>this.minxField=t,id:this.parameter.getName(),type:"number",pattern:"-?[0-9]*(.[0-9]+)?",tabindex:"0"})),i("div",{class:"input-wrap"},i("label",null,"Y"),i("input",{onInput:this.onInput,onChange:this.onChange,ref:t=>this.minyField=t,id:this.parameter.getName(),type:"number",pattern:"-?[0-9]*(.[0-9]+)?",tabindex:"0"})),i("div",{class:"input-wrap"},i("label",null,"Z"),i("input",{onInput:this.onInput,onChange:this.onChange,ref:t=>this.minzField=t,id:this.parameter.getName(),type:"number",pattern:"-?[0-9]*(.[0-9]+)?",tabindex:"0"}))),i("fieldset",null,i("legend",null,"Max"),i("div",{class:"input-wrap"},i("label",null,"X"),i("input",{onInput:this.onInput,onChange:this.onChange,ref:t=>this.maxxField=t,id:this.parameter.getName(),type:"number",pattern:"-?[0-9]*(.[0-9]+)?",tabindex:"0"})),i("div",{class:"input-wrap"},i("label",null,"Y"),i("input",{onInput:this.onInput,onChange:this.onChange,ref:t=>this.maxyField=t,id:this.parameter.getName(),type:"number",pattern:"-?[0-9]*(.[0-9]+)?",tabindex:"0"})),i("div",{class:"input-wrap"},i("label",null,"Z"),i("input",{onInput:this.onInput,onChange:this.onChange,ref:t=>this.maxzField=t,id:this.parameter.getName(),type:"number",pattern:"-?[0-9]*(.[0-9]+)?",tabindex:"0"}))))}};o.registerWidget("zea-param-widget-bbox",t=>t.getValue().constructor.name==s.name),r.style=":host,input,button,select,textarea{font-family:'Roboto', sans-serif}.zea-param-widget-bbox{color:var(--color-foreground-1);background-color:var(--color-background-2);max-width:400px}input{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0.3em;font-size:0.9em;border:1px solid var(--color-grey-3);background-color:var(--color-background-3);text-align:right;color:var(--color-foreground-1)}.user-edited{-webkit-box-shadow:0 0 8px var(--color-success-1);box-shadow:0 0 8px var(--color-success-1);margin:0px}.input-wrap{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-bottom:0.5em}.input-wrap label{font-size:0.7em;padding:0.3em 1em 0.3em 0.3em;opacity:0.5;width:1.5em;text-align:center}fieldset{border:1px solid var(--color-grey-3)}legend{color:var(--color-foreground-2);font-size:0.8em}";export{r as Z}