System.register(["./p-6ab71ff6.system.js"],(function(e){"use strict";var t,o;return{setters:[function(e){t=e.r;o=e.h}],execute:function(){var a=".zea-dropdown-menu{color:var(--color-foreground-1);font-size:14px}ul,li{display:block;list-style:none;margin:0;padding:0;background-color:var(--color-background-2);cursor:default;position:relative;color:var(--color-foreground-1)}li.flashed>span,li.flashed:hover>span{background-color:var(--color-secondary-3) !important}.menu-root{display:-ms-flexbox;display:flex;-ms-flex-pack:left;justify-content:left;-ms-flex-align:center;align-items:center}ul ul{display:none}.leaf-label,.branch-label{display:inline-block;white-space:nowrap}.menu-root>li>.leaf-label,.menu-root>li>.branch-label{padding:16px}.menu-root>li>.branch-label>.branch-arrow{display:none}li .leaf-label,li .branch-label{padding:8px 8px 8px 16px;display:-ms-flexbox;display:flex}:host,input,button,select,textarea{font-family:'Roboto', sans-serif}ul ul li>.leaf-label{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.branch-name{-ms-flex-positive:1;flex-grow:1}li:hover>span{background-color:var(--color-grey-3)}li:hover>ul{display:block;position:absolute;-webkit-box-shadow:0 6px 13px 0 var(--color-shadow);box-shadow:0 6px 13px 0 var(--color-shadow)}ul ul ul{margin-left:100%;margin-top:-30px}.action-name{min-width:100px;display:block;-ms-flex-positive:1;flex-grow:1}.keyboard-shortcut{display:block;opacity:0.75;font-size:0.8em;padding-left:10px}.branch-arrow-icon{display:block;opacity:0.5}.keyboard-key{border:1px solid var(--color-grey-3);padding:2px;border-radius:5px;font-size:0.8em;text-align:center;min-width:10px;display:inline-block;background-color:var(--color-background-1);text-transform:uppercase;margin:0 2px}";var n=e("zea_dropdown_menu",function(){function e(e){t(this,e);this.hotkeysToActions={};this.menuItems={children:{}}}e.prototype.componentDidLoad=function(){var e=this;this.appData.actionRegistry.actionAdded.connect((function(){e.makeMenuTree()}));this.makeMenuTree()};e.prototype.keydownHandler=function(e){if(e.target instanceof HTMLInputElement)return;var t=[];if(e.shiftKey)t.push("shift");if(e.altKey)t.push("alt");if(e.metaKey)t.push("ctrl");if(e.ctrlKey)t.push("ctrl");if(e.key!="Alt"&&e.key!="Control"&&e.key!="Ctrl"&&e.key!="Shift"){t.push(e.key)}var o=t.join("+").toLowerCase();if(o in this.hotkeysToActions){var a=this.hotkeysToActions[o];a.callback(e)}e.preventDefault()};e.prototype.makeMenuTree=function(){var e=this;this.actions=this.appData.actionRegistry.getActions();this.actions.forEach((function(t){var o=e.getMenuTreeItem(t.path);o["children"][t.name]=t}));this.feedHotKeys()};e.prototype.feedHotKeys=function(){var e=this;this.actions.forEach((function(t){var o=e.keyComboAsText(t);if(o)e.hotkeysToActions[o]=t}))};e.prototype.getMenuTreeItem=function(e){var t=this.menuItems;e.forEach((function(e){if(!(e in t.children)){t.children[e]={children:{}}}t=t.children[e]}));return t};e.prototype.makeBranch=function(e,t){return o("li",{key:e},o("span",{class:"branch-label"},o("span",{class:"branch-name"},e),o("span",{class:"branch-arrow"},this.getBranchArrow())),o("ul",null,this.makeBranchItems(t)))};e.prototype.makeBranchItems=function(e){var t=this;var o=[];Object.keys(e.children).forEach((function(a){var n=e.children[a];if("children"in n){o.push(t.makeBranch(a,n))}else{o.push(t.makeLeaf(a,n))}}));return o};e.prototype.makeLeaf=function(e,t){var a=this;return o("li",{key:e,onClick:function(e){a.hadleLeafClick(e,t)}},o("span",{class:"leaf-label"},o("span",{class:"action-name"},t.name),o("span",{class:"keyboard-shortcut"},this.keyComboAsHtml(t))))};e.prototype.hadleLeafClick=function(e,t){if("callback"in t){t.callback()}this.flashItem(e.currentTarget)};e.prototype.flashItem=function(e){e.classList.toggle("flashed");var t=setInterval((function(){e.classList.toggle("flashed")}),80);setTimeout((function(){clearInterval(t);e.classList.remove("flashed")}),100)};e.prototype.keyComboAsHtml=function(e){var t=e.metaKeys,a=e.key;var n=[];if(!a&&!t){return null}if(t.control){n.push(o("span",{class:"keyboard-key"},"Ctrl"));n.push("+")}if(t.alt){n.push(o("span",{class:"keyboard-key"},"Alt"));n.push("+")}if(t.shift){n.push(o("span",{class:"keyboard-key"},"Shift"));n.push("+")}n.push(o("span",{class:"keyboard-key"},a));return n};e.prototype.keyComboAsText=function(e){var t=e.metaKeys,o=e.key;var a=[];if(!o&&!t){return""}if(t){if(t.shift)a.push("shift");if(t.alt)a.push("alt");if(t.control)a.push("ctrl")}a.push(o);return a.join("+").toLowerCase()};e.prototype.getBranchArrow=function(){return o("svg",{class:"branch-arrow-icon",xmlns:"http://www.w3.org/2000/svg",height:"16",viewBox:"0 0 24 24",width:"16"},o("path",{d:"M8 5v14l11-7z"}),o("path",{d:"M0 0h24v24H0z",fill:"none"}))};e.prototype.render=function(){return o("div",{class:"zea-dropdown-menu"},o("ul",{class:"menu-root"},this.makeBranchItems(this.menuItems)))};return e}());n.style=a}}}));