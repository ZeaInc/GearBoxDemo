import{r as i,c as e,h as t}from"./p-da09bae5.js";import"./p-f249487f.js";import"./p-b57dc4fe.js";import"./p-26586be0.js";import{Z as n}from"./p-1c1e3287.js";const s=class{constructor(t){i(this,t),this.contentId="none",this.disciplines=[],this.db=new n,this.rowElements={},this.editRowElements={},this.nameElements={},this.abbrElements={},this.colorElements={},this.dialogResize=e(this,"dialogResize",7)}getDefaultDisciplines(){const i=[];return"A\tArchitectural\t#F34235\n    C\tCivil\t#E81D62\n    E\tElectrical\t#292929\n    F\tFire Protection\t#9B26AF\n    FS\tFood Service\t#6639B6\n    G\tGeneral\t#3E50B4\n    GA\tGarage Architectural\t#2095F2\n    GE\tGarage Electrical\t#02A8F3\n    GM\tGarage Mechanical\t#00BBD3\n    GP\tGarage Plumbing\t#009587\n    GS\tGarage Structual\t#4BAE4F\n    H\tHVAC\t#8AC249\n    I\tInterior\t#CCDB38\n    IR\tIrrigation\t#FEEA3A\n    L\tLandscape\t#FEC006\n    M\tMechanical\t#FE9700\n    P\tPlumbing\t#FE5621\n    Q\tEquipment\t#785447\n    R\tResource\t#9D9D9D\n    S\tStructural\t#5F7C8A\n    T\tTelecommunications\t#F34235\n    X\tOther\t#E81D62\n    Z\tContractor / Shop Drawings\t#292929".split("\n").forEach((e,t)=>{const n=(e=e.replace(/(^\s*|\s*$)/,"")).split("\t");i.push({type:"disciplines",_id:"disciplines|default"+t,name:n[1],abbreviation:n[0],color:n[2],contentId:this.contentId})}),i}async applyDefaultDisciplines(){return new Promise(i=>{this.disciplines=this.getDefaultDisciplines();let e=0;this.disciplines.forEach(t=>{this.db.upsertDoc(t).then(()=>{e++,e==this.disciplines.length&&i()})})})}resetDefatuls(){return new Promise(i=>{this.db.destroyDb("disciplines").then(()=>{this.applyDefaultDisciplines().then(()=>{this.refreshDisciplines(),i()})})})}saveDiscipline(){const i={type:"disciplines",abbreviation:this.abbrInput.value,name:this.nameInput.value,color:this.colorInput.value,contentId:this.contentId};this.abbrInput.value="",this.nameInput.value="",this.db.upsertDoc(i).then(()=>{this.refreshDisciplines()})}updateDiscipline(i){this.db.upsertDoc({type:"disciplines",abbreviation:this.abbrElements[i].value,name:this.nameElements[i].value,color:this.colorElements[i].value,contentId:this.contentId,_id:i}).then(()=>{this.refreshDisciplines()})}refreshDisciplines(){this.db.getDocs({type:"disciplines",limit:1e3}).then(i=>{if(!i.docs||!i.docs.length)return this.disciplines=this.getDefaultDisciplines(),void this.applyDefaultDisciplines();this.disciplines=i.docs})}componentWillLoad(){this.refreshDisciplines()}deleteDisclipline(i){this.db.deleteDoc(i).then(()=>{this.refreshDisciplines()})}componentDidRender(){this.dialogResize.emit(this)}render(){return t("div",{class:"zea-form-disciplines-settings"},t("div",{class:"form-top"},t("div",null,t("zea-input-text",{ref:i=>this.abbrInput=i,label:"Abbreviation",id:"abbreviation-input"})),t("div",null,t("zea-input-text",{ref:i=>this.nameInput=i,label:"Discipline",id:"disciplines-input"})),t("div",null,t("zea-input",{ref:i=>this.colorInput=i,type:"color",label:"Color",showLabel:!1,colorPopupAlign:"top-left"})),t("div",null,t("zea-button",{variant:"solid",onClick:this.saveDiscipline.bind(this)},"ADD NEW")),t("div",null,t("zea-menu-separator",{orientation:"vertical"})),t("div",null,t("zea-menu",{type:"contextual",contextualAlign:"top-right",showAnchor:!0,anchorIcon:"ellipsis-vertical"},t("zea-menu-item",{onClick:this.resetDefatuls.bind(this)},t("zea-icon",{name:"refresh-circle-outline"})," Restore Defaults")))),t("div",{class:"form-bottom"},t("zea-scroll-pane",null,this.disciplines.map(i=>[t("div",{ref:e=>this.rowElements[i._id]=e,class:"discipline-row",id:i._id,key:i._id},t("div",{class:"discipline-abbreviation",style:{backgroundColor:i.color}},i.abbreviation),t("div",{class:"discipline-name"},i.name),t("div",{class:"discipline-tools"},t("zea-icon",{name:"create-outline",size:18,onClick:()=>{this.editRowElements[i._id].style.display="flex",this.rowElements[i._id].style.display="none"}}),t("zea-icon",{size:18,name:"trash-outline",onClick:()=>{this.deleteDisclipline(i._id)}}))),t("div",{ref:e=>this.editRowElements[i._id]=e,class:"discipline-edit-row",id:i._id+"-editor",key:i._id+"-editor"},t("div",null,t("zea-input-text",{ref:e=>this.abbrElements[i._id]=e,label:"Abbreviation",id:"abbreviation-input",value:i.abbreviation})),t("div",null,t("zea-input-text",{ref:e=>this.nameElements[i._id]=e,label:"Discipline",value:i.name,id:"disciplines-input"})),t("div",null,t("zea-input",{ref:e=>this.colorElements[i._id]=e,type:"color",label:"Color",showLabel:!1,value:i.color,colorPopupAlign:"top-left"})),t("div",{class:"discipline-edit-tools"},t("zea-icon",{name:"checkmark-outline",size:20,onClick:()=>{this.editRowElements[i._id].style.display="none",this.rowElements[i._id].style.display="flex",this.updateDiscipline(i._id)}}),t("zea-icon",{size:20,name:"close-outline",onClick:()=>{this.editRowElements[i._id].style.display="none",this.rowElements[i._id].style.display="flex"}})))]))))}};s.style=":host,input,button,select,textarea{font-family:'Roboto', sans-serif}.zea-form-disciplines-settings{color:var(--color-freground-1);width:-webkit-min-content;width:-moz-min-content;width:min-content;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;height:100%}.form-top{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;width:-webkit-min-content;width:-moz-min-content;width:min-content;border:1px solid var(--color-grey-3);padding:10px 10px 10px 20px;border-bottom:none;-ms-flex-positive:0;flex-grow:0}.form-bottom{border:1px solid var(--color-grey-3);-ms-flex-positive:1;flex-grow:1;font-size:13px;position:relative;height:calc(100% - 80px);padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box}zea-input-text{margin:5px}.discipline-abbreviation{text-transform:uppercase;padding:8px;width:15px;height:15px;line-height:15px;text-align:center;border-radius:20px;margin:10px 20px 10px 10px;white-space:nowrap;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}#abbreviation-input{width:100px}#disciplines-input{width:200px}.discipline-row{display:-ms-flexbox;display:flex;width:100%;-ms-flex-align:center;align-items:center}.discipline-edit-row:hover,.discipline-row:hover{background-color:var(--color-grey-2)}.discipline-name{-ms-flex-positive:1;flex-grow:1}.discipline-tools{visibility:hidden;padding:0 3em 0 1em}.discipline-edit-tools zea-icon,.discipline-tools zea-icon{padding:4px}.discipline-edit-tools zea-icon:hover,.discipline-tools zea-icon:hover{background-color:var(--color-background-4);border-radius:15px}.discipline-edit-tools{padding:4px;-ms-flex-positive:1;flex-grow:1;text-align:right;padding:0 3em 0 1em}.discipline-row:hover .discipline-tools{visibility:visible}.discipline-edit-row{display:-ms-flexbox;display:flex;padding-left:10px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-align:center;align-items:center;display:none}";const o=class{constructor(e){i(this,e),this.test="Hello World"}render(){return t("div",{class:"zea-form-measurements-settings"},this.test)}};o.style=".zea-form-measurements-settings{color:var(--color-freground-1)}";export{s as zea_form_disciplines_settings,o as zea_form_measurements_settings}