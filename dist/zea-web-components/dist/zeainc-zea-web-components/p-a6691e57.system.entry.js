System.register(["./p-6ab71ff6.system.js"],(function(exports){"use strict";var registerInstance,h,getElement,createEvent;return{setters:[function(e){registerInstance=e.r;h=e.h;getElement=e.d;createEvent=e.c}],execute:function(){var zeaMenuCss="*{cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host{display:inline-block;vertical-align:middle}:host,input,button,select,textarea{font-family:'Roboto', sans-serif}.zea-menu{color:var(--color-foreground-1);-ms-flex-direction:column;flex-direction:column}.zea-menu .items{display:none}.menu-anchor{color:var(--color-foreground-1)}.zea-menu.shown{color:var(--color-foreground-1);display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.zea-menu.shown .items{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-direction:column;flex-direction:column}.dropdown slot{display:-ms-flexbox;display:flex}.zea-menu.contextual{position:relative}.contextual.menu-wrap{display:inline-block;position:relative;vertical-align:middle}.contextual .items{position:absolute;margin-top:25px;z-index:1000}.contextual.top-right .items{-webkit-transform:translateX(-100%);transform:translateX(-100%);margin-left:100%}.toolbar{background-color:var(--color-background-2);position:fixed;border-radius:30px}.dropdown .items,.contextual .items{background-color:var(--color-background-2)}";var ZeaMenu=exports("zea_menu",function(){function e(e){registerInstance(this,e);this.offset=[0,0];this.leftOffset="";this.topOffset="";this.type="dropdown";this.shown=false;this.showAnchor=false;this.anchorIcon="ellipsis-vertical-circle-outline";this.contextualAlign="top-left"}e.prototype.handleClick=function(e){if(e.currentTarget==this.anchorElement){this.shown=!this.shown;return}else if(this.type=="contextual"&&!this.isDescendant(this.hostElement,e.target)){this.shown=false}this.mouseIsDown=false};e.prototype.isDescendant=function(e,t){var o=t.parentNode;while(o!=null){if(o==e){return true}o=o.parentNode}return false};e.prototype.handleItemClick=function(e){if(this.type=="contextual"&&!e.detail.hasSubitems){this.shown=false}};e.prototype.mousedownHandler=function(e){if(this.type=="toolbar"&&e.currentTarget.tagName=="ZEA-MENU"){this.mouseIsDown=true;this.offset=[this.menuElement.offsetLeft-e.clientX,this.menuElement.offsetTop-e.clientY]}};e.prototype.mousemoveHandler=function(e){if(this.type=="toolbar"&&this.mouseIsDown){this.menuElement.style.left=e.clientX+this.offset[0]+"px";this.menuElement.style.top=e.clientY+this.offset[1]+"px"}};e.prototype.handleAnchorClick=function(e){this.handleClick(e);e.stopPropagation()};e.prototype.componentDidLoad=function(){if(this.type!="contextual"){this.shown=true}};e.prototype.componentDidRender=function(){this.setupChildren()};e.prototype.setupChildren=function(){var e=this;this.itemsContainer.querySelector("slot").assignedNodes().forEach((function(t){if("type"in t){t.type=e.type}if("itemParent"in t){t.itemParent=e.hostElement}if("rootMenu"in t){t.rootMenu=e.hostElement}}))};e.prototype.render=function(){var e=this;var t=this.type=="contextual"&&this.showAnchor?h("div",{onMouseUp:this.handleAnchorClick.bind(this),class:"menu-anchor",ref:function(t){return e.anchorElement=t}},h("zea-icon",{name:this.anchorIcon})):null;var o={};o["zea-menu"]=true;o[this.type]=true;o["shown"]=this.shown;o[this.contextualAlign]=true;var n={top:this.topOffset,left:this.leftOffset};return h("div",{class:o,ref:function(t){return e.menuElement=t}},t,h("div",{ref:function(t){return e.itemsContainer=t},class:"items",style:n},h("slot",null)))};Object.defineProperty(e.prototype,"hostElement",{get:function(){return getElement(this)},enumerable:true,configurable:true});return e}());ZeaMenu.style=zeaMenuCss;var zeaMenuItemCss="*{cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host,input,button,select,textarea{font-family:'Roboto', sans-serif}.zea-menu-item{position:relative}.outer-wrap{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;color:var(--color-foreground-1);position:relative}.toolbar .outer-wrap{background-color:transparent;border-radius:30px;margin:5px}.pressed .outer-wrap{background-color:var(--color-grey-3)}.active .outer-wrap{background-color:var(--color-grey-3)}.standalone:hover .outer-wrap{background-color:var(--color-grey-3)}.zea-menu-item:hover{background-color:var(--color-grey-3)}.zea-menu-item.toolbar:hover{background-color:transparent}.toolbar.pressed .outer-wrap{background-color:var(--color-background-2)}.toolbar.active .outer-wrap{background-color:var(--toolbar-active-bg-color, var(--color-grey-3));color:var(--toolbar-active-fg-color, var(--color-foreground-1))}.inner-wrap{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;font-size:12px;padding:0 10px;min-height:40px;white-space:nowrap;-ms-flex-positive:1;flex-grow:1}zea-switch{margin-left:0.5em;pointer-events:none}zea-checkbox{margin-right:0.5em;pointer-events:none}::slotted(zea-icon){margin-right:5px;font-size:10px;pointer-events:none}.toolbar .inner-wrap{padding:5px;min-height:auto}.toolbar ::slotted(zea-icon){margin-right:0}.hotkey{display:block;opacity:0.75;font-size:0.8em;padding-left:10px;pointer-events:none}.keyboard-key{border:1px solid var(--color-grey-3);padding:2px;border-radius:5px;font-size:0.8em;text-align:center;min-width:10px;display:inline-block;background-color:var(--color-background-1);text-transform:uppercase;margin:0 2px}";var ZeaMenuItem=exports("zea_menu_item",function(){function class_2(e){registerInstance(this,e);this.switch=false;this.active=false;this.hasCheckbox=false;this.checked=false;this.shown=false;this.allowHover=false;this.hotkey="";this.type="";this.hasSubitems=false;this.zeaMenuItemClick=createEvent(this,"zeaMenuItemClick",7);this.zeaMenuItemPressed=createEvent(this,"zeaMenuItemPressed",7)}class_2.prototype.windowClickHandler=function(e){this.active=false;e.detail.active=true;if(!e.detail.hasSubitems&&this.type!="toolbar"){this.active=false}};class_2.prototype.handleWindowMouseup=function(e){if(!this.isDescendant(this.rootMenu,e.target)&&this.type!="toolbar"){this.active=false}};class_2.prototype.isDescendant=function(e,t){var o=t.parentNode;while(o!=null){if(o==e){return true}o=o.parentNode}return false};class_2.prototype.componentDidRender=function(){};class_2.prototype.watchHandler=function(){this.setupChildren()};class_2.prototype.setupChildren=function(){var e=this;this.container.querySelector("slot").assignedElements().forEach((function(t){if(t.tagName=="ZEA-MENU-SUBITEMS"){e.hasSubitems=true;e.subitemsElement=t;e.subitemsElement.rootMenu=e.rootMenu;e.subitemsElement.parentItem=e.hostElement;e.subitemsElement.type=e.hostElement.parentElement["type"];e.outerWrap.appendChild(e.subitemsElement);e.container.classList.add("has-subitems");if(e.hostElement.parentElement.tagName=="ZEA-MENU"){e.subitemsElement.belongsToRoot=true}}}))};class_2.prototype.handleItemClick=function(e){this.zeaMenuItemClick.emit(this.hostElement);this.active=true;this.runCallback(e)};class_2.prototype.handleItemMouseDown=function(){this.container.classList.add("pressed");this.zeaMenuItemPressed.emit(this.hostElement);this.checked=!this.checked};class_2.prototype.handleItemMouseUp=function(e){this.container.classList.remove("pressed");this.handleItemClick(e);if(!this.hasSubitems&&this.type!="toolbar"){this.active=false}};class_2.prototype.runCallback=function(payLoad){if(this.callback){if(typeof this.callback=="string"){eval(this.callback)}else{this.callback(payLoad)}}};class_2.prototype.keydownHandler=function(e){if(e.target instanceof HTMLInputElement)return;var t=[];if(e.shiftKey)t.push("shift");if(e.altKey)t.push("alt");if(e.metaKey)t.push("ctrl");if(e.ctrlKey)t.push("ctrl");if(e.key!="Alt"&&e.key!="Control"&&e.key!="Ctrl"&&e.key!="Shift"){t.push(e.key)}var o=t.join("+").toLowerCase();if(o==this.hotkey.toLowerCase()){this.handleItemClick(new MouseEvent("click"))}e.preventDefault()};class_2.prototype.keyComboAsHtml=function(){var e=this.hotkey.split("+");var t=[];e.forEach((function(e){e=e.toLowerCase();if(e=="ctrl"){t.push(h("span",{class:"keyboard-key"},"Ctrl"));t.push("+")}else if(e=="alt"){t.push(h("span",{class:"keyboard-key"},"Alt"));t.push("+")}else if(e=="shift"){t.push(h("span",{class:"keyboard-key"},"Shift"));t.push("+")}else{t.push(h("span",{class:"keyboard-key"},e))}}));return t};class_2.prototype.render=function(){var e=this;return h("div",{ref:function(t){return e.container=t},class:"zea-menu-item "+this.type+" "+(this.active?"active":"")+" "+(this.allowHover?"allow-hover":"")},h("div",{class:"outer-wrap",ref:function(t){return e.outerWrap=t}},h("div",{class:"inner-wrap",onMouseDown:this.handleItemMouseDown.bind(this),onMouseUp:this.handleItemMouseUp.bind(this)},this.hasCheckbox?h("zea-checkbox",{checked:this.checked,ref:function(t){return e.checkboxElement=t}}):null,h("slot",null),this.switch?h("zea-switch",{checked:this.checked}):null,this.hotkey?h("span",{class:"hotkey"},this.keyComboAsHtml()):null)))};Object.defineProperty(class_2.prototype,"hostElement",{get:function(){return getElement(this)},enumerable:true,configurable:true});Object.defineProperty(class_2,"watchers",{get:function(){return{rootMenu:["watchHandler"]}},enumerable:true,configurable:true});return class_2}());ZeaMenuItem.style=zeaMenuItemCss;var zeaMenuSeparatorCss=".ruler{overflow:hidden;margin:5px auto;height:1px;background-color:var(--color-grey-3)}.zea-menu-separator{}.zea-menu-separator.vertical{height:24px;width:21px}.vertical .ruler{width:1px;margin:0 10px;height:100%}.dropdown .ruler{height:100%;width:1px}";var ZeaMenuSeparator=exports("zea_menu_separator",function(){function e(e){registerInstance(this,e);this.class="";this.orientation="horizontal"}e.prototype.render=function(){return h("div",{class:"zea-menu-separator "+this.class+" "+this.orientation},h("div",{class:"ruler"}))};return e}());ZeaMenuSeparator.style=zeaMenuSeparatorCss}}}));